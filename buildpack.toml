api = "0.4"

[buildpack]
  homepage = "https://github.com/paketo-buildpacks/php-dist"
  id = "paketo-buildpacks/php-dist"
  name = "Paketo PHP Distribution Buildpack"

[metadata]
  include-files = ["bin/build", "bin/detect", "bin/run", "buildpack.toml"]
  pre-package = "./scripts/build.sh"
  [metadata.default-versions]
    php = "7.4.*"

  [[metadata.dependencies]]
    deprecation_date = "2021-12-06T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "4f86e0cf7fac9dbb30e818d1448af36d49fd7cf9f3140b3383f0d2ce6884955f"
    source = "https://php.net/distributions/php-7.3.30.tar.gz"
    source_sha256 = "3810a9b631eb7f236ecf02b9a78bab8d957b6cfdb1646a29e3b34e01d36c0510"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_7.3.30_linux_x64_cflinuxfs3_4f86e0cf.tgz"
    version = "7.3.30"

  [[metadata.dependencies]]
    deprecation_date = "2021-12-06T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "989f5f7f901c7aa5d317ecd2dfc47fcfe56856bcd8d6086d4ff46bb41ec9fd50"
    source = "https://php.net/distributions/php-7.3.31.tar.gz"
    source_sha256 = "57ca37b08d3eed4cadc3976e78b0f51d0305bb6e60333f6e8c76e8aee07c3f0f"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_7.3.31_linux_x64_cflinuxfs3_989f5f7f.tgz"
    version = "7.3.31"

  [[metadata.dependencies]]
    deprecation_date = "2022-11-28T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "edd1bf09d7d1e7087a4e8593aad386baf890c79b91c7cde149258e119ca46a15"
    source = "https://php.net/distributions/php-7.4.22.tar.gz"
    source_sha256 = "4ca2642b99a822237d7f84dc19682be702ad0e2d5d282f7646d84b746d454e34"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_7.4.22_linux_x64_cflinuxfs3_edd1bf09.tgz"
    version = "7.4.22"

  [[metadata.dependencies]]
    deprecation_date = "2022-11-28T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "f80a3d01bb357756dd3317d5a439f73d2367fde041e24e8aa12ae71cb3ee8f19"
    source = "https://php.net/distributions/php-7.4.23.tar.gz"
    source_sha256 = "2aaa481678ad4d2992e7bcf161e0e98c7268f4979f7ca8b3d97dd6de19c205d6"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_7.4.23_linux_x64_cflinuxfs3_f80a3d01.tgz"
    version = "7.4.23"

  [[metadata.dependencies]]
    deprecation_date = "2023-11-26T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "cadbdf0fb155560628aedc426227632c74f108f420a6ab9e4f8c1d61ddc721c6"
    source = "https://php.net/distributions/php-8.0.10.tar.gz"
    source_sha256 = "4612dca9afe8148801648839175ab588097ace66658c6859e9f283ecdeaf84b3"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_8.0.10_linux_x64_cflinuxfs3_cadbdf0f.tgz"
    version = "8.0.10"

  [[metadata.dependencies]]
    deprecation_date = "2023-11-26T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "683d1602819e8ff9f427bd8e07b325e5a4c56ac40fdd47731955163e5635adfc"
    source = "https://php.net/distributions/php-8.0.11.tar.gz"
    source_sha256 = "c6a461f57b4bcb46cd4dec443253b1e2e8e981466f1280093322b7864afe8be7"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_8.0.11_linux_x64_cflinuxfs3_683d1602.tgz"
    version = "8.0.11"

  [[metadata.dependency_deprecation_dates]]
    date = "2021-12-06T00:00:00Z"
    link = "http://php.net/supported-versions.php"
    match = "7.3.\\d+"
    name = "php"
    version_line = "7.3.x"

  [[metadata.dependency_deprecation_dates]]
    date = "2022-11-08T00:00:00Z"
    link = "http://php.net/supported-versions.php"
    match = "7.4.\\d+"
    name = "php"
    version_line = "7.4.x"

[[stacks]]
  id = "io.buildpacks.stacks.bionic"
  mixins = ["libargon2-0", "libcurl4", "libedit2", "libgd3", "libmagickwand-6.q16-3", "libonig4", "libxml2", "libyaml-0-2"]

[[stacks]]
  id = "org.cloudfoundry.stacks.cflinuxfs3"
