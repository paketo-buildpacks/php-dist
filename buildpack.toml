api = "0.2"

[buildpack]
  id = "paketo-buildpacks/php-dist"
  name = "Paketo PHP Buildpack"
  homepage = "https://github.com/paketo-buildpacks/php-dist"

[metadata]
  include-files = ["bin/build", "bin/detect", "bin/run", "buildpack.toml"]
  pre-package = "./scripts/build.sh"
  [metadata.default-versions]
    php = "7.4.*"

  [[metadata.dependencies]]
    deprecation_date = "2021-12-06T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "76bd97b377e68ba036b1e35d97a3f971c401a7f02bdf45b4ceb74d0e888b3a5e"
    source = "https://php.net/distributions/php-7.3.24.tar.gz"
    source_sha256 = "ac06577e2aeb69d4bed3c1532ed84a548f01399e5481c144c3e61d146be8ced6"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_7.3.24_linux_x64_cflinuxfs3_76bd97b3.tgz"
    version = "7.3.24"

  [[metadata.dependencies]]
    deprecation_date = "2021-12-06T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "17e1f9bb3afefcf39992562a262d09517fbbd5bb59f6ca82879624c9f52defc5"
    source = "https://php.net/distributions/php-7.3.25.tar.gz"
    source_sha256 = "097c7a2a2f9189b33799d79ee5a8aac68a4d72696c1cd69c66ef5d0941ce28ad"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_7.3.25_linux_x64_cflinuxfs3_17e1f9bb.tgz"
    version = "7.3.25"

  [[metadata.dependencies]]
    deprecation_date = "2022-11-08T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "3adfbb7aaabf370fc5cb648021f869209b37c4c309bf14b7ee71e2861a36dd3a"
    source = "https://php.net/distributions/php-7.4.13.tar.gz"
    source_sha256 = "0865cff41e7210de2537bcd5750377cfe09a9312b9b44c1a166cf372d5204b8f"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_7.4.13_linux_x64_cflinuxfs3_3adfbb7a.tgz"
    version = "7.4.13"

  [[metadata.dependencies]]
    deprecation_date = "2022-11-08T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "3c03ed74001d62fe16305e3665d2d0e49897e4c530aa92e185dd1ac7942868d8"
    source = "https://php.net/distributions/php-7.4.14.tar.gz"
    source_sha256 = "d359183e2436f4ab30b70d4fbd881b5705a46b2e68cc6069fe91cd63d6e98e13"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_7.4.14_linux_x64_cflinuxfs3_3c03ed74.tgz"
    version = "7.4.14"

  [[metadata.dependency_deprecation_dates]]
    date = 2021-12-06T00:00:00Z
    link = "http://php.net/supported-versions.php"
    match = "7.3.\\d+"
    name = "php"
    version_line = "7.3.x"

  [[metadata.dependency_deprecation_dates]]
    date = 2022-11-08T00:00:00Z
    link = "http://php.net/supported-versions.php"
    match = "7.4.\\d+"
    name = "php"
    version_line = "7.4.x"

[[stacks]]
  id = "io.buildpacks.stacks.bionic"
  mixins = ["libargon2-0", "libcurl4", "libedit2", "libgd3", "libmagickwand-6.q16-3", "libonig4", "libxml2", "libyaml-0-2"]

[[stacks]]
  id = "org.cloudfoundry.stacks.cflinuxfs3"
