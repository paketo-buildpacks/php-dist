api = "0.2"

[buildpack]
  id = "paketo-buildpacks/php-dist"
  name = "Paketo PHP Buildpack"
  homepage = "https://github.com/paketo-buildpacks/php-dist"

[metadata]
  include_files = ["bin/build", "bin/detect", "bin/run", "buildpack.toml"]
  pre_package = "./scripts/build.sh"
  [metadata.default-versions]
    php = "7.2.*"

  [[metadata.dependencies]]
    deprecation_date = "2020-11-30T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "44351be4f3445bb6414d741fb8861fd29cbf8a215f8e9b4f73db95db79b0f90a"
    source = "https://php.net/distributions/php-7.2.32.tar.gz"
    source_sha256 = "b3aabb99e574c407dd58ad071fc52e27c489608fe06f1330d688d0fb7349089c"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php7_7.2.32_linux_x64_cflinuxfs3_44351be4.tgz"
    version = "7.2.32"

  [[metadata.dependencies]]
    deprecation_date = "2020-11-30T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "22aa01a4a6e80407280b510065a430f7b5ea8aa0169e28251fe195d4964b2114"
    source = "https://php.net/distributions/php-7.2.33.tar.gz"
    source_sha256 = "97bb6b88ddfa44f36c4fc84a1a718faef476f61b532d26ea29e3e9f6cd79d839"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php7_7.2.33_linux_x64_cflinuxfs3_22aa01a4.tgz"
    version = "7.2.33"

  [[metadata.dependencies]]
    deprecation_date = "2021-12-06T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "08b4521f242796ae129dca9c4fd34dafe1708627e9146f019a964b0d1919ca79"
    source = "https://php.net/distributions/php-7.3.21.tar.gz"
    source_sha256 = "f5d6e136768522edd025c4a97b9b6a98a2fda20b68445cbc5ca2efce1e73c7d0"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php7_7.3.21_linux_x64_cflinuxfs3_08b4521f.tgz"
    version = "7.3.21"

  [[metadata.dependencies]]
    deprecation_date = "2021-12-06T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "bce3ce97adcf2bbd778274d23c04500f60f6dde707c7e51baf61829552f9865e"
    source = "https://php.net/distributions/php-7.3.22.tar.gz"
    source_sha256 = "759426cb4054e3f23316c39710faff0bb8063fd0ea50fc2c5efa590429af1a22"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php7_7.3.22_linux_x64_cflinuxfs3_bce3ce97.tgz"
    version = "7.3.22"

  [[metadata.dependencies]]
    deprecation_date = "2022-11-08T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "c09aed0f17dce2c580c1a83ca2cb8629632fa1c57da92c47919914f9221bc3ef"
    source = "https://php.net/distributions/php-7.4.8.tar.gz"
    source_sha256 = "649f6bcdb60dc38d5edd7f3a7b2905d15d88c1d13e40307e8972ede347cea6ba"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php7_7.4.8_linux_x64_cflinuxfs3_c09aed0f.tgz"
    version = "7.4.8"

  [[metadata.dependencies]]
    deprecation_date = "2022-11-08T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "2206ee8db574b8f667e00f5fe91ce17550ff265283d12e79c1fdaf3ff93a852a"
    source = "https://php.net/distributions/php-7.4.9.tar.gz"
    source_sha256 = "c0c657b5769bc463f5f028b1f4fef8814d98ecf3459a402a9e30d41d68b2323e"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php7_7.4.9_linux_x64_cflinuxfs3_2206ee8d.tgz"
    version = "7.4.9"

  [[metadata.dependency_deprecation_dates]]
    date = 2020-11-30T00:00:00Z
    link = "http://php.net/supported-versions.php"
    match = "7.2.\\d+"
    name = "php"
    version_line = "7.2.x"

  [[metadata.dependency_deprecation_dates]]
    date = 2021-12-06T00:00:00Z
    link = "http://php.net/supported-versions.php"
    match = "7.3.\\d+"
    name = "php"
    version_line = "7.3.x"

  [[metadata.dependency_deprecation_dates]]
    date = 2022-11-08T00:00:00Z
    link = "http://php.net/supported-versions.php"
    match = "7.4.\\d+"
    name = "php"
    version_line = "7.4.x"

[[stacks]]
  id = "io.buildpacks.stacks.bionic"
  mixins = ["libargon2-0", "libcurl4", "libedit2", "libgd3", "libmagickwand-6.q16-3", "libonig4", "libxml2", "libyaml-0-2"]

[[stacks]]
  id = "org.cloudfoundry.stacks.cflinuxfs3"
