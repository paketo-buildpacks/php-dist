api = "0.4"

[buildpack]
  id = "paketo-buildpacks/php-dist"
  name = "Paketo PHP Distribution Buildpack"
  homepage = "https://github.com/paketo-buildpacks/php-dist"

[metadata]
  include-files = ["bin/build", "bin/detect", "bin/run", "buildpack.toml"]
  pre-package = "./scripts/build.sh"
  [metadata.default-versions]
    php = "7.4.*"

  [[metadata.dependencies]]
    deprecation_date = "2021-12-06T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "267c03f088776157f6da4a86bf775a5116e07e1794dd245e71c4a4f92fdfb7e0"
    source = "https://php.net/distributions/php-7.3.27.tar.gz"
    source_sha256 = "4b7b9bd0526ad3f2c8d6fd950ea7b0ab2478b5b09755c6a620a4f3bcfbf59154"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_7.3.27_linux_x64_cflinuxfs3_267c03f0.tgz"
    version = "7.3.27"

  [[metadata.dependencies]]
    deprecation_date = "2021-12-06T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "3794d7e81e7a64c3c0d0d0176b634319850bd8e6e1ad5e552dc4950354549965"
    source = "https://php.net/distributions/php-7.3.28.tar.gz"
    source_sha256 = "1f0d9b94e1b11518ffabd19b646c2fee95ea42ca9cd8d337f8d07986fdceede1"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_7.3.28_linux_x64_cflinuxfs3_3794d7e8.tgz"
    version = "7.3.28"

  [[metadata.dependencies]]
    deprecation_date = "2022-11-28T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "e5dae7902553c56af222649b3515e71a7078caa4321a1a9b5756a3afe4473970"
    source = "https://php.net/distributions/php-7.4.18.tar.gz"
    source_sha256 = "31a8a4a6e7d641f014749cef21421a6d1c9aaba6dce884e181a3370a8e69a04d"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_7.4.18_linux_x64_cflinuxfs3_e5dae790.tgz"
    version = "7.4.18"

  [[metadata.dependencies]]
    deprecation_date = "2022-11-28T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "0edfdd5c69d1ed6aa9c3fbd78377a1f1f8072409ba026c6f034e26a0b133e4d7"
    source = "https://php.net/distributions/php-7.4.19.tar.gz"
    source_sha256 = "d7062457ba9f8334ab8ae7e4fea8efe27e2506763551b25db9e6ab9beea8ed6f"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_7.4.19_linux_x64_cflinuxfs3_0edfdd5c.tgz"
    version = "7.4.19"

  [[metadata.dependencies]]
    deprecation_date = "2023-11-26T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "3de01649c0ef889e035e7cf077fb2bafc2868105ace73dfd4a58ad17ac71a8ff"
    source = "https://php.net/distributions/php-8.0.3.tar.gz"
    source_sha256 = "e7ecfee901e0843377b64b2d8124132eae75bdb71a2675ba7c5c038d6592383d"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_8.0.3_linux_x64_cflinuxfs3_3de01649.tgz"
    version = "8.0.3"

  [[metadata.dependencies]]
    deprecation_date = "2023-11-26T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "54dffaf5975a9a4e283aa827cb03604537e3b05ad4177c3ae8b1812629466895"
    source = "https://php.net/distributions/php-8.0.5.tar.gz"
    source_sha256 = "50aeac6fe9c2b5577d534369392ebb89c3e7a342b20ef538832b1df996cccb2a"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php_8.0.5_linux_x64_cflinuxfs3_54dffaf5.tgz"
    version = "8.0.5"

  [[metadata.dependency_deprecation_dates]]
    date = 2021-12-06T00:00:00Z
    link = "http://php.net/supported-versions.php"
    match = "7.3.\\d+"
    name = "php"
    version_line = "7.3.x"

  [[metadata.dependency_deprecation_dates]]
    date = 2022-11-08T00:00:00Z
    link = "http://php.net/supported-versions.php"
    match = "7.4.\\d+"
    name = "php"
    version_line = "7.4.x"

[[stacks]]
  id = "io.buildpacks.stacks.bionic"
  mixins = ["libargon2-0", "libcurl4", "libedit2", "libgd3", "libmagickwand-6.q16-3", "libonig4", "libxml2", "libyaml-0-2"]

[[stacks]]
  id = "org.cloudfoundry.stacks.cflinuxfs3"
