api = "0.2"

[buildpack]
  id = "paketo-buildpacks/php-dist"
  name = "Paketo PHP Buildpack"
  homepage = "https://github.com/paketo-buildpacks/php-dist"

[metadata]
  include-files = ["bin/build", "bin/detect", "bin/run", "buildpack.toml"]
  pre-package = "./scripts/build.sh"
  [metadata.default-versions]
    php = "7.2.*"

  [[metadata.dependencies]]
    deprecation_date = "2020-11-30T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "22aa01a4a6e80407280b510065a430f7b5ea8aa0169e28251fe195d4964b2114"
    source = "https://php.net/distributions/php-7.2.33.tar.gz"
    source_sha256 = "97bb6b88ddfa44f36c4fc84a1a718faef476f61b532d26ea29e3e9f6cd79d839"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php7_7.2.33_linux_x64_cflinuxfs3_22aa01a4.tgz"
    version = "7.2.33"

  [[metadata.dependencies]]
    deprecation_date = "2020-11-30T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "c8302e4381dd66d2b9640a7e418cb00ff1986dba57f363e68b59903f97ea4be8"
    source = "https://php.net/distributions/php-7.2.34.tar.gz"
    source_sha256 = "8b2777c741e83f188d3ca6d8e98ece7264acafee86787298fae57e05d0dddc78"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php7_7.2.34_linux_x64_cflinuxfs3_c8302e43.tgz"
    version = "7.2.34"

  [[metadata.dependencies]]
    deprecation_date = "2021-12-06T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "0063a45f5764de6ecb9218af2593d4c6f8798414eca996f795debfdd94fa2118"
    source = "https://php.net/distributions/php-7.3.23.tar.gz"
    source_sha256 = "a21094b9ba2d8fe7fa5838e6566e30cf4bfaf2c8a6dce90ff707c45d0d8d494d"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php7_7.3.23_linux_x64_cflinuxfs3_0063a45f.tgz"
    version = "7.3.23"

  [[metadata.dependencies]]
    deprecation_date = "2021-12-06T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "4a7f9b878dbeffb836877505465e1a7d4c6f53136566f896f98c462eac4a98e9"
    source = "https://php.net/distributions/php-7.3.24.tar.gz"
    source_sha256 = "ac06577e2aeb69d4bed3c1532ed84a548f01399e5481c144c3e61d146be8ced6"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php7_7.3.24_linux_x64_cflinuxfs3_4a7f9b87.tgz"
    version = "7.3.24"

  [[metadata.dependencies]]
    deprecation_date = "2022-11-08T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "acb719d5a22db9cfce19b93ea563e80f33e8c6641774716834719f2baff0b7c8"
    source = "https://php.net/distributions/php-7.4.10.tar.gz"
    source_sha256 = "e720f1286f895ca37f1c75a2ca338ad2f2456664d7097298167181b25b212feb"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php7_7.4.10_linux_x64_cflinuxfs3_acb719d5.tgz"
    version = "7.4.10"

  [[metadata.dependencies]]
    deprecation_date = "2022-11-08T00:00:00Z"
    id = "php"
    name = "PHP"
    sha256 = "5ee92dc1e28a9c2ce8e3137e7f08c35756cb0a16c361ecf09fa60766056bf2b0"
    source = "https://php.net/distributions/php-7.4.11.tar.gz"
    source_sha256 = "b4fae5c39ca1eedf5597071996d9c85d0674b83f5003126c39b7b44bbfbcd821"
    stacks = ["io.buildpacks.stacks.bionic", "org.cloudfoundry.stacks.cflinuxfs3"]
    uri = "https://buildpacks.cloudfoundry.org/dependencies/php/php7_7.4.11_linux_x64_cflinuxfs3_5ee92dc1.tgz"
    version = "7.4.11"

  [[metadata.dependency_deprecation_dates]]
    date = 2020-11-30T00:00:00Z
    link = "http://php.net/supported-versions.php"
    match = "7.2.\\d+"
    name = "php"
    version_line = "7.2.x"

  [[metadata.dependency_deprecation_dates]]
    date = 2021-12-06T00:00:00Z
    link = "http://php.net/supported-versions.php"
    match = "7.3.\\d+"
    name = "php"
    version_line = "7.3.x"

  [[metadata.dependency_deprecation_dates]]
    date = 2022-11-08T00:00:00Z
    link = "http://php.net/supported-versions.php"
    match = "7.4.\\d+"
    name = "php"
    version_line = "7.4.x"

[[stacks]]
  id = "io.buildpacks.stacks.bionic"
  mixins = ["libargon2-0", "libcurl4", "libedit2", "libgd3", "libmagickwand-6.q16-3", "libonig4", "libxml2", "libyaml-0-2"]

[[stacks]]
  id = "org.cloudfoundry.stacks.cflinuxfs3"
