api = "0.7"

[buildpack]
  description = "A buildpack for installing and configuring PHP"
  homepage = "https://github.com/paketo-buildpacks/php-dist"
  id = "paketo-buildpacks/php-dist"
  keywords = ["php"]
  name = "Paketo PHP Distribution Buildpack"
  sbom-formats = ["application/vnd.cyclonedx+json", "application/spdx+json", "application/vnd.syft+json"]

  [[buildpack.licenses]]
    type = "Apache-2.0"
    uri = "https://github.com/paketo-buildpacks/php-dist/blob/main/LICENSE"

[metadata]
  include-files = ["bin/build", "bin/detect", "bin/run", "buildpack.toml", "config/default.ini", "config/buildpack.ini"]
  pre-package = "./scripts/build.sh"
  [metadata.default-versions]
    php = "8.0.*"

  [[metadata.dependencies]]
    cpe = "cpe:2.3:a:php:php:7.4.29:*:*:*:*:*:*:*"
    deprecation_date = "2022-11-28T00:00:00Z"
    id = "php"
    licenses = ["PHP-3.0", "PHP-3.01"]
    name = "PHP"
    purl = "pkg:generic/php@7.4.29?checksum=f73f89873bb9447cb99eb4863cf0a0deab4481cb8acf7552c0e70647e6885854&download_url=https://www.php.net/distributions/php-7.4.29.tar.gz"
    sha256 = "5b02ff2b6571416022f7978cf5ca7241a718dc99490d3714e538d079fd63792f"
    source = "https://www.php.net/distributions/php-7.4.29.tar.gz"
    source_sha256 = "f73f89873bb9447cb99eb4863cf0a0deab4481cb8acf7552c0e70647e6885854"
    stacks = ["io.buildpacks.stacks.bionic"]
    uri = "https://deps.paketo.io/php/php_7.4.29_linux_x64_bionic_5b02ff2b.tgz"
    version = "7.4.29"

  [[metadata.dependencies]]
    cpe = "cpe:2.3:a:php:php:7.4.30:*:*:*:*:*:*:*"
    deprecation_date = "2022-11-28T00:00:00Z"
    id = "php"
    licenses = ["PHP-3.0", "PHP-3.01"]
    name = "PHP"
    purl = "pkg:generic/php@7.4.30?checksum=e37ea37e0f79109351ac615da85eb7c2c336101fc5bc802ee79a124a4310dc10&download_url=https://github.com/php/web-php-distributions/raw/master/php-7.4.30.tar.gz"
    sha256 = "0903572c8d86e84f3aa9dbe4f38da735d03f0ccc36692af973bdafd492cdf0cf"
    source = "https://github.com/php/web-php-distributions/raw/master/php-7.4.30.tar.gz"
    source_sha256 = "e37ea37e0f79109351ac615da85eb7c2c336101fc5bc802ee79a124a4310dc10"
    stacks = ["io.buildpacks.stacks.bionic"]
    uri = "https://deps.paketo.io/php/php_7.4.30_linux_x64_bionic_0903572c.tgz"
    version = "7.4.30"

  [[metadata.dependencies]]
    cpe = "cpe:2.3:a:php:php:8.0.20:*:*:*:*:*:*:*"
    deprecation_date = "2023-11-26T00:00:00Z"
    id = "php"
    licenses = ["PHP-3.0", "PHP-3.01"]
    name = "PHP"
    purl = "pkg:generic/php@8.0.20?checksum=7e21fd985966264194cde63503b57fd0f0170b32a39bd7af2384c1071b50f164&download_url=https://github.com/php/web-php-distributions/raw/master/php-8.0.20.tar.gz"
    sha256 = "da14dc2302e1b5557e25274dde5f8a64f3e540d5b1f16b82c9db20319955fbf6"
    source = "https://github.com/php/web-php-distributions/raw/master/php-8.0.20.tar.gz"
    source_sha256 = "7e21fd985966264194cde63503b57fd0f0170b32a39bd7af2384c1071b50f164"
    stacks = ["io.buildpacks.stacks.bionic"]
    uri = "https://deps.paketo.io/php/php_8.0.20_linux_x64_bionic_da14dc23.tgz"
    version = "8.0.20"

  [[metadata.dependencies]]
    cpe = "cpe:2.3:a:php:php:8.0.21:*:*:*:*:*:*:*"
    deprecation_date = "2023-11-26T00:00:00Z"
    id = "php"
    licenses = ["PHP-3.0", "PHP-3.01"]
    name = "PHP"
    purl = "pkg:generic/php@8.0.21?checksum=2f51f6e90e2e8efd3a20db08f0dd61d7f8d5a9362f8c7325f1ad28ccea5be0ac&download_url=https://github.com/php/web-php-distributions/raw/master/php-8.0.21.tar.gz"
    sha256 = "f11a193dee74850480570043ddcfe041bc9454453939b8b7dc4c4b53f4197e2f"
    source = "https://github.com/php/web-php-distributions/raw/master/php-8.0.21.tar.gz"
    source_sha256 = "2f51f6e90e2e8efd3a20db08f0dd61d7f8d5a9362f8c7325f1ad28ccea5be0ac"
    stacks = ["io.buildpacks.stacks.bionic"]
    uri = "https://deps.paketo.io/php/php_8.0.21_linux_x64_bionic_f11a193d.tgz"
    version = "8.0.21"

  [[metadata.dependencies]]
    cpe = "cpe:2.3:a:php:php:8.1.7:*:*:*:*:*:*:*"
    deprecation_date = "2024-11-25T00:00:00Z"
    id = "php"
    licenses = ["PHP-3.0", "PHP-3.01"]
    name = "PHP"
    purl = "pkg:generic/php@8.1.7?checksum=5f0b422a117633c86d48d028934b8dc078309d4247e7565ea34b2686189abdd8&download_url=https://github.com/php/web-php-distributions/raw/master/php-8.1.7.tar.gz"
    sha256 = "b68e474ee601fb60eb201eda80ffc61321e73a581c0fbae6532c82708be5b2bf"
    source = "https://github.com/php/web-php-distributions/raw/master/php-8.1.7.tar.gz"
    source_sha256 = "5f0b422a117633c86d48d028934b8dc078309d4247e7565ea34b2686189abdd8"
    stacks = ["io.buildpacks.stacks.bionic"]
    uri = "https://deps.paketo.io/php/php_8.1.7_linux_x64_bionic_b68e474e.tgz"
    version = "8.1.7"

  [[metadata.dependencies]]
    cpe = "cpe:2.3:a:php:php:8.1.8:*:*:*:*:*:*:*"
    deprecation_date = "2024-11-25T00:00:00Z"
    id = "php"
    licenses = ["PHP-3.0", "PHP-3.01"]
    name = "PHP"
    purl = "pkg:generic/php@8.1.8?checksum=889d910558d2492f7f2236921b9bcde620674c8b684ec02d126060f8ca45dc8d&download_url=https://github.com/php/web-php-distributions/raw/master/php-8.1.8.tar.gz"
    sha256 = "a1221db600664cec5a543b5efa3fea6637715399d8a2a947100885221dc61792"
    source = "https://github.com/php/web-php-distributions/raw/master/php-8.1.8.tar.gz"
    source_sha256 = "889d910558d2492f7f2236921b9bcde620674c8b684ec02d126060f8ca45dc8d"
    stacks = ["io.buildpacks.stacks.bionic"]
    uri = "https://deps.paketo.io/php/php_8.1.8_linux_x64_bionic_a1221db6.tgz"
    version = "8.1.8"

  [[metadata.dependency-constraints]]
    constraint = "7.4.*"
    id = "php"
    patches = 2

  [[metadata.dependency-constraints]]
    constraint = "8.0.*"
    id = "php"
    patches = 2

  [[metadata.dependency-constraints]]
    constraint = "8.1.*"
    id = "php"
    patches = 2

[[stacks]]
  id = "io.buildpacks.stacks.bionic"
  mixins = ["libargon2-0", "libcurl4", "libedit2", "libgd3", "libmagickwand-6.q16-3", "libonig4", "libxml2", "libyaml-0-2"]
